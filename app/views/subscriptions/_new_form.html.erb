<div class="form-wrapper" data-controller="newForm">
  <%= simple_form_for(subscription) do |f| %>
    <%= f.simple_fields_for :offers, subscription.offer do |o| %>
      <%= o.input :category,
                  collection: @category,
                  label: "Subscription category",
                  input_html: {
                    data: {
                      action: "click->newForm#showServices",
                      newForm_target: "categoryInput"
                    }
                  }
      %>
      <%= o.input :name,
                  label: "Service Name",
                  wrapper_html: {
                    class: 'hidden'
                  },
                  input_html: {
                    data: {
                      newForm_target: "serviceInput"
                    }
                  }
      %>
      <%= o.input :price_cents,
                  wrapper_html: {
                    class: 'hidden'
                  },
                  label: "How much does it cost?",
                  input_html: {
                    data: {
                      newForm_target: "priceInput"
                    }
                  }
      %>
      <%= o.input :frequency,
                  collection: Offer::PERIODS,
                  wrapper_html: {
                    class: 'hidden'
                  },
                  label: "How often is the payment?",
                  input_html: {
                    data: {
                      newForm_target: "frequencyInput"
                    }
                  }
      %>
    <% end %>
      <%= f.input :additional_info,
                        label: "Additional Info",
                        wrapper_html: {
                          class: 'hidden'
                        },
                        placeholder: "Additional Info"
      %>
      <%= f.input :renewal_date,
                        wrapper_html: {
                          class: 'hidden'
                        },
                        label: "Renewal Date"
      %>
      <%= f.submit "submit" %>
  <% end %>
</div>
